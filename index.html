<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bunu, Will you be my Valentine?</title>

  <style>
    :root{
      --glass: rgba(0,0,0,.50);
      --stroke: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.95);
      --muted: rgba(255,255,255,.78);
      --yes: #22c55e;
      --no: #ef4444;
      --accent: #ff4fa3;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      height:100vh;
      display:grid;
      place-items:center;
      overflow:hidden;
      color:var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(circle at 20% 20%, rgba(255,79,163,.35), transparent 40%),
        radial-gradient(circle at 80% 30%, rgba(34,197,94,.25), transparent 45%),
        radial-gradient(circle at 60% 80%, rgba(255,255,255,.12), transparent 40%),
        linear-gradient(135deg, #0b0b10, #151526 60%, #0c0c15);
    }

    /* subtle animated shimmer */
    .bgGlow{
      position: fixed;
      inset:-40%;
      background: conic-gradient(from 120deg, rgba(255,79,163,.10), rgba(34,197,94,.08), rgba(255,255,255,.05), rgba(255,79,163,.10));
      filter: blur(60px);
      animation: spin 18s linear infinite;
      z-index: -2;
      opacity: .85;
    }
    @keyframes spin{ to{ transform: rotate(360deg); } }

    .wrap{ width:min(720px, 92vw); padding: 18px; }

    .card{
      background: var(--glass);
      border: 1px solid var(--stroke);
      border-radius: 26px;
      padding: 34px 26px 24px;
      text-align:center;
      box-shadow: 0 22px 70px rgba(0,0,0,.48);
      backdrop-filter: blur(10px);
      position: relative;
    }

    .badge{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding: 8px 12px;
      border: 1px solid rgba(255,255,255,.18);
      border-radius: 999px;
      font-weight: 800;
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 14px;
      background: rgba(255,255,255,.06);
    }

    h1{
      margin:0 0 10px;
      font-size: clamp(26px, 4.2vw, 40px);
      letter-spacing: .2px;
    }

    .type{
      margin: 6px auto 0;
      max-width: 560px;
      font-size: 16.5px;
      line-height: 1.65;
      color: var(--muted);
      min-height: 3.8em;
    }

    .btns{
      margin-top: 22px;
      display:flex;
      justify-content:center;
      gap: 14px;
      flex-wrap:wrap;
    }

    button{
      border:0;
      cursor:pointer;
      padding: 14px 22px;
      border-radius: 999px;
      font-weight: 900;
      font-size: 16px;
      min-width: 150px;
      box-shadow: 0 12px 24px rgba(0,0,0,.25);
      transition: transform .12s ease, opacity .12s ease, filter .12s ease;
      user-select:none;
      touch-action: manipulation;
    }
    button:active{ transform: translateY(1px) scale(.99); }

    #yesBtn{ background: var(--yes); color: white; }
    #noBtn{ background: var(--no);  color: white; position: relative; }

    .result{
      display:none;
      margin-top: 22px;
      padding: 16px 14px;
      background: rgba(255,255,255,.08);
      border: 1px dashed rgba(255,255,255,.24);
      border-radius: 18px;
      font-size: 18px;
      font-weight: 900;
      line-height: 1.55;
    }
    .result.show{ display:block; }

    .promise{
      display:none;
      margin-top: 14px;
      padding: 14px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      color: var(--muted);
      line-height: 1.55;
      font-size: 15px;
    }
    .promise.show{ display:block; }

    .footer{
      margin-top: 16px;
      font-size: 13px;
      color: rgba(255,255,255,.72);
    }

    /* Spotify player (no "music text") */
    .player{
      margin: 16px auto 0;
      width: min(520px, 92vw);
      border-radius: 16px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
    }
    .player iframe{
      width:100%;
      height: 152px;
      border:0;
      display:block;
    }

    /* Tap-to-start overlay */
    .overlay{
      position: fixed;
      inset:0;
      display:grid;
      place-items:center;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
      z-index: 99;
      padding: 18px;
    }
    .overlayCard{
      width:min(520px, 92vw);
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.18);
      border-radius: 22px;
      padding: 22px 18px;
      text-align:center;
      color: var(--text);
      box-shadow: 0 20px 60px rgba(0,0,0,.55);
    }
    .overlayCard h2{
      margin:0 0 8px;
      font-size: 22px;
      font-weight: 950;
    }
    .overlayCard p{
      margin:0 0 14px;
      color: rgba(255,255,255,.78);
      line-height: 1.5;
      font-size: 14.5px;
    }
    .startBtn{
      background: var(--accent);
      color: white;
      border:0;
      padding: 14px 18px;
      border-radius: 999px;
      font-weight: 950;
      font-size: 16px;
      cursor:pointer;
      box-shadow: 0 12px 26px rgba(0,0,0,.3);
    }

    /* Fullscreen effects layers */
    canvas#fx{
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 10;
    }
    .heartsRain{
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 9;
      overflow:hidden;
    }
    .heartDrop{
      position:absolute;
      top: -10vh;
      will-change: transform, opacity;
      animation: fall linear forwards;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.28));
    }
    @keyframes fall{
      to{
        transform: translate3d(var(--dx), 120vh, 0) rotate(var(--rot));
        opacity: 0;
      }
    }
  </style>
</head>

<body>
  <div class="bgGlow"></div>

  <!-- overlay -->
  <div class="overlay" id="overlay">
    <div class="overlayCard">
      <h2>One small surprise for Bunu üíñ</h2>
      <p>Tap Start</p>
      <button class="startBtn" id="startBtn">Start üíò</button>
    </div>
  </div>

  <!-- effects -->
  <canvas id="fx"></canvas>
  <div class="heartsRain" id="heartsRain"></div>

  <div class="wrap">
    <div class="card" id="card">
      <div class="badge">üíå Long distance, same heart</div>

      <h1>Bunu, will you be my Valentine? üíò</h1>
      <div class="type" id="type"></div>

      <div class="btns">
        <button id="yesBtn">Yes üíö</button>
        <button id="noBtn">No ‚ù§Ô∏è</button>
      </div>

      <div class="result" id="result">
        You just made me the happiest person alive ü•πüíñ<br><br>
        Valentine‚Äôs Date Plan:<br>
        Video call, same time, same smile, same love üíï<br>
        And soon‚Ä¶ a real dinner together ‚ù§Ô∏è
      </div>

      <div class="promise" id="promise">
        I promise: even from far away, I‚Äôll still be present ‚Äî<br>
        in your mornings, your nights, and every ‚ÄúI miss you‚Äù in between.
      </div>

      <!-- Spotify embed for: https://open.spotify.com/track/62aP9fBQKYKxi7PDXwcUAS -->
      <div class="player" aria-hidden="false">
        <iframe
          src="https://open.spotify.com/embed/track/62aP9fBQKYKxi7PDXwcUAS?utm_source=generator"
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
          loading="lazy">
        </iframe>
      </div>

      <div class="footer">Made with ‚ù§Ô∏è by Lashon</div>
    </div>
  </div>

  <script>
    // ---------- Start + Typewriter ----------
    const overlay = document.getElementById("overlay");
    const startBtn = document.getElementById("startBtn");

    const lines = [
      "Even though miles separate us, nothing can separate you from my heart.",
      "So here‚Äôs my question‚Ä¶ and my favorite answer üòå"
    ];
    const typeEl = document.getElementById("type");
    let fullText = lines.join("\\n");
    let idx = 0;

    function typeWrite(){
      if(idx <= fullText.length){
        const shown = fullText.slice(0, idx).replaceAll("\\n", "<br>");
        typeEl.innerHTML = shown + '<span style="opacity:.7">|</span>';
        idx++;
        setTimeout(typeWrite, 20);
      } else {
        typeEl.innerHTML = fullText.replaceAll("\\n", "<br>");
      }
    }

    startBtn.addEventListener("click", () => {
      overlay.style.display = "none";
      typeWrite();
    });

    // ---------- Super-active running "No" button ----------
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const result = document.getElementById("result");
    const promise = document.getElementById("promise");

    function moveNo(force=false){
      const rect = noBtn.getBoundingClientRect();
      const pad = 18;
      const maxX = window.innerWidth - rect.width - pad;
      const maxY = window.innerHeight - rect.height - pad;

      // Stronger movement: bias away from center a bit
      let x = pad + Math.random() * (maxX - pad);
      let y = pad + Math.random() * (maxY - pad);

      noBtn.style.position = "fixed";
      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";

      // playful tiny rotation
      const rot = (Math.random()*18 - 9);
      noBtn.style.transform = `rotate(${rot}deg)`;
      if(force) noBtn.style.filter = "brightness(1.1)";
      setTimeout(()=> noBtn.style.filter = "", 150);
    }

    // Run on hover/click/touch
    noBtn.addEventListener("mouseenter", () => moveNo(true));
    noBtn.addEventListener("click", (e) => { e.preventDefault(); moveNo(true); });
    noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); moveNo(true); }, {passive:false});
    noBtn.addEventListener("touchmove", (e) => { e.preventDefault(); moveNo(true); }, {passive:false});

    // Run when cursor gets near it (PC)
    document.addEventListener("mousemove", (e) => {
      if(noBtn.disabled) return;
      const r = noBtn.getBoundingClientRect();
      const cx = r.left + r.width/2;
      const cy = r.top + r.height/2;
      const dx = e.clientX - cx;
      const dy = e.clientY - cy;
      const dist = Math.hypot(dx, dy);
      if(dist < 140) moveNo();
    });

    // Occasionally jitter so it's always active
    setInterval(() => {
      if(noBtn.disabled) return;
      // 40% chance to move
      if(Math.random() < 0.4) moveNo();
    }, 900);

    // ---------- Hearts + Fireworks (fill screen) ----------
    const heartsRain = document.getElementById("heartsRain");
    const canvas = document.getElementById("fx");
    const ctx = canvas.getContext("2d");
    let W, H;

    function resize(){
      W = canvas.width = window.innerWidth * devicePixelRatio;
      H = canvas.height = window.innerHeight * devicePixelRatio;
      canvas.style.width = window.innerWidth + "px";
      canvas.style.height = window.innerHeight + "px";
      ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
    }
    window.addEventListener("resize", resize);
    resize();

    const heartEmojis = ["üíñ","üíò","üíó","üíû","üíì","üíï","‚ù§Ô∏è","ü©∑"];

    function dropHeart(){
      const h = document.createElement("div");
      h.className = "heartDrop";
      h.textContent = heartEmojis[Math.floor(Math.random()*heartEmojis.length)];
      const left = Math.random() * 100;
      const size = 14 + Math.random()*30;
      const dur = 1.6 + Math.random()*2.4; // faster + more intense
      const dx = (Math.random()*140 - 70) + "px";
      const rot = (Math.random()*240 - 120) + "deg";

      h.style.left = left + "vw";
      h.style.fontSize = size + "px";
      h.style.opacity = "1";
      h.style.setProperty("--dx", dx);
      h.style.setProperty("--rot", rot);
      h.style.animationDuration = dur + "s";

      heartsRain.appendChild(h);
      setTimeout(()=> h.remove(), (dur*1000) + 100);
    }

    // Firework particles
    const particles = [];
    function rand(min,max){ return Math.random()*(max-min)+min; }

    function launchFirework(){
      const x = rand(80, window.innerWidth-80);
      const y = rand(120, window.innerHeight*0.55);
      const count = 90 + Math.floor(Math.random()*90); // more
      for(let i=0;i<count;i++){
        const a = (Math.PI*2) * (i/count);
        const sp = rand(2.2, 6.2);
        particles.push({
          x, y,
          vx: Math.cos(a)*sp,
          vy: Math.sin(a)*sp,
          life: rand(38, 68),
          size: rand(1.5, 3.2),
          alpha: 1
        });
      }
    }

    function animateFx(){
      ctx.clearRect(0,0,window.innerWidth, window.innerHeight);

      for(let i=particles.length-1;i>=0;i--){
        const p = particles[i];
        p.x += p.vx;
        p.y += p.vy;
        p.vy += 0.06; // gravity
        p.vx *= 0.985;
        p.vy *= 0.985;
        p.life -= 1;
        p.alpha = Math.max(0, p.life/70);

        ctx.globalAlpha = p.alpha;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
        ctx.fillStyle = `hsl(${(p.x+p.y)%360}, 90%, 65%)`;
        ctx.fill();

        if(p.life <= 0) particles.splice(i,1);
      }
      ctx.globalAlpha = 1;

      requestAnimationFrame(animateFx);
    }
    animateFx();

    let heartsInterval = null;
    let fireworksInterval = null;

    function startCelebration(){
      // MASS hearts rain
      heartsInterval = setInterval(() => {
        // drop multiple hearts per tick to fill screen
        for(let i=0;i<10;i++) dropHeart();
      }, 120);

      // Fireworks frequently
      fireworksInterval = setInterval(() => {
        for(let i=0;i<3;i++) launchFirework();
      }, 420);

      // Initial blast
      for(let i=0;i<24;i++) setTimeout(dropHeart, i*25);
      for(let i=0;i<8;i++) setTimeout(launchFirework, i*120);
    }

    // ---------- YES click ----------
    yesBtn.addEventListener("click", () => {
      result.classList.add("show");
      promise.classList.add("show");
      noBtn.disabled = true;
      noBtn.style.opacity = "0.30";
      noBtn.style.transform = "none";
      startCelebration();
    });
  </script>
</body>
</html>
